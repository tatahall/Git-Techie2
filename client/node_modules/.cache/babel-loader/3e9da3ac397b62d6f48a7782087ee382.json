{"ast":null,"code":"import _objectSpread from \"/Users/binbinfan/project-3/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { GET_USERS, USERS_ERROR, USER_LOADED, REGISTER_SUCCESS, REGISTER_FAIL, AUTH_ERROR, LOGIN_FAIL, LOGIN_SUCCESS } from '../types';\nexport default ((state, action) => {\n  switch (action.type) {\n    case GET_USERS:\n    case USER_LOADED:\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        users: action.payload,\n        loading: false\n      });\n\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n      return _objectSpread({}, state, {}, action.payload, {\n        isAutheticated: true,\n        loading: false\n      });\n\n    case USERS_ERROR:\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/binbinfan/project-3/client/src/context/users/userReducer.js"],"names":["GET_USERS","USERS_ERROR","USER_LOADED","REGISTER_SUCCESS","REGISTER_FAIL","AUTH_ERROR","LOGIN_FAIL","LOGIN_SUCCESS","state","action","type","isAuthenticated","users","payload","loading","localStorage","setItem","token","isAutheticated","removeItem","user","error"],"mappings":";AAAA,SACIA,SADJ,EAEIC,WAFJ,EAGIC,WAHJ,EAIIC,gBAJJ,EAKIC,aALJ,EAMIC,UANJ,EAOIC,UAPJ,EAQIC,aARJ,QAUS,UAVT;AAYE,gBAAe,CAACC,KAAD,EAAQC,MAAR,KAAkB;AAC7B,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKV,SAAL;AACI,SAAKE,WAAL;AACI,+BACKM,KADL;AAEEG,QAAAA,eAAe,EAAE,IAFnB;AAGEC,QAAAA,KAAK,EAAEH,MAAM,CAACI,OAHhB;AAIEC,QAAAA,OAAO,EAAE;AAJX;;AAMA,SAAKX,gBAAL;AACE,SAAKI,aAAL;AACIQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BP,MAAM,CAACI,OAAP,CAAeI,KAA5C;AACA,+BACOT,KADP,MAEOC,MAAM,CAACI,OAFd;AAGIK,QAAAA,cAAc,EAAC,IAHnB;AAIIJ,QAAAA,OAAO,EAAC;AAJZ;;AAMd,SAAKb,WAAL;AACI,SAAKG,aAAL;AACI,SAAKC,UAAL;AACA,SAAKC,UAAL;AACIS,MAAAA,YAAY,CAACI,UAAb,CAAwB,OAAxB;AACR,+BACOX,KADP;AAEIS,QAAAA,KAAK,EAAC,IAFV;AAGIN,QAAAA,eAAe,EAAC,KAHpB;AAIIG,QAAAA,OAAO,EAAC,KAJZ;AAKIM,QAAAA,IAAI,EAAC,IALT;AAMIC,QAAAA,KAAK,EAAEZ,MAAM,CAACI;AANlB;;AAQA;AACI,aAAOL,KAAP;AAhCV;AAkCH,CAnCD","sourcesContent":["import {\n    GET_USERS,\n    USERS_ERROR,\n    USER_LOADED,\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    AUTH_ERROR,\n    LOGIN_FAIL,\n    LOGIN_SUCCESS\n   \n  } from '../types';\n\n  export default (state, action) =>{\n      switch(action.type){\n        case GET_USERS:\n            case USER_LOADED:\n                return {\n                  ...state,\n                  isAuthenticated: true,\n                  users: action.payload,\n                  loading: false\n                };\n                case REGISTER_SUCCESS:\n                  case LOGIN_SUCCESS:\n                      localStorage.setItem('token',action.payload.token);\n                      return{\n                          ...state,\n                          ...action.payload,\n                          isAutheticated:true,\n                          loading:false\n                      };\n        case USERS_ERROR:\n            case REGISTER_FAIL:\n                case AUTH_ERROR:\n                case LOGIN_FAIL:\n                    localStorage.removeItem('token');\n            return {\n                ...state,\n                token:null,\n                isAuthenticated:false,\n                loading:false,\n                user:null,\n                error: action.payload\n            };\n            default:\n                return state;\n      }\n  }"]},"metadata":{},"sourceType":"module"}